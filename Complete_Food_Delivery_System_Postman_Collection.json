{
  "info": {
    "name": "Food Delivery System - Complete API Collection",
    "description": "Comprehensive Postman collection for all microservices in the Food Delivery System",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url_auth",
      "value": "http://0.0.0.0:8001",
      "type": "string"
    },
    {
      "key": "base_url_catalog",
      "value": "http://0.0.0.0:8002",
      "type": "string"
    },
    {
      "key": "base_url_order",
      "value": "http://0.0.0.0:8003",
      "type": "string"
    },
    {
      "key": "base_url_payment",
      "value": "http://0.0.0.0:8004",
      "type": "string"
    },
    {
      "key": "base_url_restaurant",
      "value": "http://0.0.0.0:8005",
      "type": "string"
    },
    {
      "key": "base_url_dispatch",
      "value": "http://0.0.0.0:8006",
      "type": "string"
    },
    {
      "key": "base_url_notification",
      "value": "http://0.0.0.0:8007",
      "type": "string"
    },
    {
      "key": "base_url_reporting",
      "value": "http://0.0.0.0:8008",
      "type": "string"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "admin_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "restaurant_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "customer_token",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Auth Service",
      "item": [
        {
          "name": "Register Customer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"customer@example.com\",\n  \"password\": \"password123\",\n  \"name\": \"John Customer\",\n  \"role\": \"CUSTOMER\"\n}"
            },
            "url": {
              "raw": "{{base_url_auth}}/register",
              "host": ["{{base_url_auth}}"],
              "path": ["register"]
            }
          },
          "response": []
        },
        {
          "name": "Register Restaurant",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"restaurant@example.com\",\n  \"password\": \"password123\",\n  \"name\": \"Restaurant Owner\",\n  \"role\": \"RESTAURANT\"\n}"
            },
            "url": {
              "raw": "{{base_url_auth}}/register",
              "host": ["{{base_url_auth}}"],
              "path": ["register"]
            }
          },
          "response": []
        },
        {
          "name": "Register Admin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@test.com\",\n  \"password\": \"admin123\",\n  \"name\": \"Admin User\",\n  \"role\": \"ADMIN\"\n}"
            },
            "url": {
              "raw": "{{base_url_auth}}/register",
              "host": ["{{base_url_auth}}"],
              "path": ["register"]
            }
          },
          "response": []
        },
        {
          "name": "Login Customer",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url_auth}}/login?email=customer@example.com&password=password123",
              "host": ["{{base_url_auth}}"],
              "path": ["login"],
              "query": [
                {
                  "key": "email",
                  "value": "customer@example.com"
                },
                {
                  "key": "password",
                  "value": "password123"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Login Restaurant",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url_auth}}/login?email=restaurant@example.com&password=password123",
              "host": ["{{base_url_auth}}"],
              "path": ["login"],
              "query": [
                {
                  "key": "email",
                  "value": "restaurant@example.com"
                },
                {
                  "key": "password",
                  "value": "password123"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Login Admin",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url_auth}}/login?email=admin@test.com&password=admin123",
              "host": ["{{base_url_auth}}"],
              "path": ["login"],
              "query": [
                {
                  "key": "email",
                  "value": "admin@test.com"
                },
                {
                  "key": "password",
                  "value": "admin123"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_auth}}/me",
              "host": ["{{base_url_auth}}"],
              "path": ["me"]
            }
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_auth}}/health",
              "host": ["{{base_url_auth}}"],
              "path": ["health"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Catalog Service",
      "item": [
        {
          "name": "Create Restaurant",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Pizza Palace\",\n  \"description\": \"Best pizza in town\",\n  \"address\": \"123 Main St\",\n  \"latitude\": 40.7589,\n  \"longitude\": -73.9851,\n  \"phone\": \"+1-555-0123\",\n  \"email\": \"info@pizzapalace.com\",\n  \"cuisine_type\": \"Italian\",\n  \"delivery_fee\": 2.99,\n  \"minimum_order\": 15.00,\n  \"is_active\": true\n}"
            },
            "url": {
              "raw": "{{base_url_catalog}}/restaurants",
              "host": ["{{base_url_catalog}}"],
              "path": ["restaurants"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Restaurants",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_catalog}}/restaurants",
              "host": ["{{base_url_catalog}}"],
              "path": ["restaurants"]
            }
          },
          "response": []
        },
        {
          "name": "Get Restaurant by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_catalog}}/restaurants/1",
              "host": ["{{base_url_catalog}}"],
              "path": ["restaurants", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Update Restaurant",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Pizza Palace Updated\",\n  \"description\": \"Best pizza in town - Updated\",\n  \"address\": \"123 Main St\",\n  \"latitude\": 40.7589,\n  \"longitude\": -73.9851,\n  \"phone\": \"+1-555-0123\",\n  \"email\": \"info@pizzapalace.com\",\n  \"cuisine_type\": \"Italian\",\n  \"delivery_fee\": 3.99,\n  \"minimum_order\": 20.00,\n  \"is_active\": true\n}"
            },
            "url": {
              "raw": "{{base_url_catalog}}/restaurants/1",
              "host": ["{{base_url_catalog}}"],
              "path": ["restaurants", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Restaurant",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_catalog}}/restaurants/1",
              "host": ["{{base_url_catalog}}"],
              "path": ["restaurants", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Create Menu Item",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"restaurant_id\": 1,\n  \"name\": \"Margherita Pizza\",\n  \"description\": \"Classic tomato and mozzarella pizza\",\n  \"price\": 12.99,\n  \"category\": \"Pizza\",\n  \"is_available\": true,\n  \"preparation_time\": 15\n}"
            },
            "url": {
              "raw": "{{base_url_catalog}}/menu-items",
              "host": ["{{base_url_catalog}}"],
              "path": ["menu-items"]
            }
          },
          "response": []
        },
        {
          "name": "Get Menu Items by Restaurant",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_catalog}}/restaurants/1/menu-items",
              "host": ["{{base_url_catalog}}"],
              "path": ["restaurants", "1", "menu-items"]
            }
          },
          "response": []
        },
        {
          "name": "Get Menu Item by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_catalog}}/menu-items/1",
              "host": ["{{base_url_catalog}}"],
              "path": ["menu-items", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Update Menu Item",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"restaurant_id\": 1,\n  \"name\": \"Margherita Pizza Updated\",\n  \"description\": \"Classic tomato and mozzarella pizza - Updated\",\n  \"price\": 14.99,\n  \"category\": \"Pizza\",\n  \"is_available\": true,\n  \"preparation_time\": 15\n}"
            },
            "url": {
              "raw": "{{base_url_catalog}}/menu-items/1",
              "host": ["{{base_url_catalog}}"],
              "path": ["menu-items", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Menu Item",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_catalog}}/menu-items/1",
              "host": ["{{base_url_catalog}}"],
              "path": ["menu-items", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_catalog}}/health",
              "host": ["{{base_url_catalog}}"],
              "path": ["health"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Order Service",
      "item": [
        {
          "name": "Create Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customer_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"restaurant_id\": 3,\n  \"delivery_address\": \"123 Customer St\",\n  \"delivery_latitude\": 40.7589,\n  \"delivery_longitude\": -73.9851,\n  \"total_amount\": 25.98,\n  \"status\": \"PENDING_PAYMENT\",\n  \"items\": [\n    {\n      \"menu_item_id\": 1,\n      \"quantity\": 2,\n      \"price\": 12.99\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url_order}}/orders",
              "host": ["{{base_url_order}}"],
              "path": ["orders"]
            }
          },
          "response": []
        },
        {
          "name": "Get Order by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customer_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_order}}/orders/1",
              "host": ["{{base_url_order}}"],
              "path": ["orders", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Get Customer Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customer_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_order}}/orders",
              "host": ["{{base_url_order}}"],
              "path": ["orders"]
            }
          },
          "response": []
        },
        {
          "name": "Update Order Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_order}}/orders/1/status?status=CONFIRMED",
              "host": ["{{base_url_order}}"],
              "path": ["orders", "1", "status"],
              "query": [
                {
                  "key": "status",
                  "value": "CONFIRMED"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_order}}/health",
              "host": ["{{base_url_order}}"],
              "path": ["health"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Payment Service",
      "item": [
        {
          "name": "Process Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customer_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"order_id\": 1,\n  \"amount\": 25.98,\n  \"payment_method\": \"credit_card\"\n}"
            },
            "url": {
              "raw": "{{base_url_payment}}/payments",
              "host": ["{{base_url_payment}}"],
              "path": ["payments"]
            }
          },
          "response": []
        },
        {
          "name": "Get Payment by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customer_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_payment}}/payments/1",
              "host": ["{{base_url_payment}}"],
              "path": ["payments", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Payments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_payment}}/payments",
              "host": ["{{base_url_payment}}"],
              "path": ["payments"]
            }
          },
          "response": []
        },
        {
          "name": "Get Payment by Order ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customer_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_payment}}/payments/order/1",
              "host": ["{{base_url_payment}}"],
              "path": ["payments", "order", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Refund Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Customer requested refund due to order cancellation\"\n}"
            },
            "url": {
              "raw": "{{base_url_payment}}/payments/1/refund",
              "host": ["{{base_url_payment}}"],
              "path": ["payments", "1", "refund"]
            }
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_payment}}/health",
              "host": ["{{base_url_payment}}"],
              "path": ["health"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Restaurant Service",
      "item": [
        {
          "name": "Get Pending Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_restaurant}}/orders/pending",
              "host": ["{{base_url_restaurant}}"],
              "path": ["orders", "pending"]
            }
          },
          "response": []
        },
        {
          "name": "Accept Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_restaurant}}/orders/1/accept",
              "host": ["{{base_url_restaurant}}"],
              "path": ["orders", "1", "accept"]
            }
          },
          "response": []
        },
        {
          "name": "Start Preparing Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_restaurant}}/orders/1/start-preparing",
              "host": ["{{base_url_restaurant}}"],
              "path": ["orders", "1", "start-preparing"]
            }
          },
          "response": []
        },
        {
          "name": "Mark Order Ready",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_restaurant}}/orders/1/ready",
              "host": ["{{base_url_restaurant}}"],
              "path": ["orders", "1", "ready"]
            }
          },
          "response": []
        },
        {
          "name": "Cancel Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_restaurant}}/orders/1/cancel?reason=Out of ingredients",
              "host": ["{{base_url_restaurant}}"],
              "path": ["orders", "1", "cancel"],
              "query": [
                {
                  "key": "reason",
                  "value": "Out of ingredients"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_restaurant}}/health",
              "host": ["{{base_url_restaurant}}"],
              "path": ["health"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Dispatch Service",
      "item": [
        {
          "name": "Register Driver",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Driver\",\n  \"phone\": \"+1-555-0123\",\n  \"email\": \"driver@example.com\",\n  \"vehicle_type\": \"Bike\",\n  \"license_number\": \"DL123456\",\n  \"current_latitude\": 40.7589,\n  \"current_longitude\": -73.9851,\n  \"is_available\": true\n}"
            },
            "url": {
              "raw": "{{base_url_dispatch}}/drivers",
              "host": ["{{base_url_dispatch}}"],
              "path": ["drivers"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Drivers",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_dispatch}}/drivers",
              "host": ["{{base_url_dispatch}}"],
              "path": ["drivers"]
            }
          },
          "response": []
        },
        {
          "name": "Get Available Drivers",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_dispatch}}/drivers/available",
              "host": ["{{base_url_dispatch}}"],
              "path": ["drivers", "available"]
            }
          },
          "response": []
        },
        {
          "name": "Assign Driver to Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"order_id\": 1,\n  \"driver_id\": 1\n}"
            },
            "url": {
              "raw": "{{base_url_dispatch}}/assignments",
              "host": ["{{base_url_dispatch}}"],
              "path": ["assignments"]
            }
          },
          "response": []
        },
        {
          "name": "Update Driver Location",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latitude\": 40.7589,\n  \"longitude\": -73.9851\n}"
            },
            "url": {
              "raw": "{{base_url_dispatch}}/drivers/1/location",
              "host": ["{{base_url_dispatch}}"],
              "path": ["drivers", "1", "location"]
            }
          },
          "response": []
        },
        {
          "name": "Get Driver Deliveries",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_dispatch}}/drivers/1/deliveries",
              "host": ["{{base_url_dispatch}}"],
              "path": ["drivers", "1", "deliveries"]
            }
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_dispatch}}/health",
              "host": ["{{base_url_dispatch}}"],
              "path": ["health"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Notification Service",
      "item": [
        {
          "name": "Send Notification",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": 1,\n  \"title\": \"Order Update\",\n  \"message\": \"Your order has been confirmed\",\n  \"type\": \"ORDER_UPDATE\",\n  \"priority\": \"HIGH\"\n}"
            },
            "url": {
              "raw": "{{base_url_notification}}/notifications",
              "host": ["{{base_url_notification}}"],
              "path": ["notifications"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customer_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_notification}}/notifications/user/1",
              "host": ["{{base_url_notification}}"],
              "path": ["notifications", "user", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Mark Notification as Read",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{customer_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_notification}}/notifications/1/read",
              "host": ["{{base_url_notification}}"],
              "path": ["notifications", "1", "read"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_notification}}/notifications",
              "host": ["{{base_url_notification}}"],
              "path": ["notifications"]
            }
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_notification}}/health",
              "host": ["{{base_url_notification}}"],
              "path": ["health"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Reporting Service",
      "item": [
        {
          "name": "Get Active Counts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_reporting}}/reports/active-counts",
              "host": ["{{base_url_reporting}}"],
              "path": ["reports", "active-counts"]
            }
          },
          "response": []
        },
        {
          "name": "Get Order Analytics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_reporting}}/reports/orders?start_date=2025-01-01&end_date=2025-12-31",
              "host": ["{{base_url_reporting}}"],
              "path": ["reports", "orders"],
              "query": [
                {
                  "key": "start_date",
                  "value": "2025-01-01"
                },
                {
                  "key": "end_date",
                  "value": "2025-12-31"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Revenue Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_reporting}}/reports/revenue?start_date=2025-01-01&end_date=2025-12-31",
              "host": ["{{base_url_reporting}}"],
              "path": ["reports", "revenue"],
              "query": [
                {
                  "key": "start_date",
                  "value": "2025-01-01"
                },
                {
                  "key": "end_date",
                  "value": "2025-12-31"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Customer Analytics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_reporting}}/reports/customers",
              "host": ["{{base_url_reporting}}"],
              "path": ["reports", "customers"]
            }
          },
          "response": []
        },
        {
          "name": "Get Restaurant Analytics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_reporting}}/reports/restaurants",
              "host": ["{{base_url_reporting}}"],
              "path": ["reports", "restaurants"]
            }
          },
          "response": []
        },
        {
          "name": "Get Driver Analytics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_reporting}}/reports/drivers",
              "host": ["{{base_url_reporting}}"],
              "path": ["reports", "drivers"]
            }
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_reporting}}/health",
              "host": ["{{base_url_reporting}}"],
              "path": ["health"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Complete Flow Tests",
      "item": [
        {
          "name": "1. Login as Customer",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url_auth}}/login?email=customer@example.com&password=password123",
              "host": ["{{base_url_auth}}"],
              "path": ["login"],
              "query": [
                {
                  "key": "email",
                  "value": "customer@example.com"
                },
                {
                  "key": "password",
                  "value": "password123"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "2. Create Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customer_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"restaurant_id\": 3,\n  \"delivery_address\": \"123 Customer St\",\n  \"delivery_latitude\": 40.7589,\n  \"delivery_longitude\": -73.9851,\n  \"total_amount\": 25.98,\n  \"status\": \"PENDING_PAYMENT\",\n  \"items\": [\n    {\n      \"menu_item_id\": 1,\n      \"quantity\": 2,\n      \"price\": 12.99\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url_order}}/orders",
              "host": ["{{base_url_order}}"],
              "path": ["orders"]
            }
          },
          "response": []
        },
        {
          "name": "3. Process Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{customer_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"order_id\": 1,\n  \"amount\": 25.98,\n  \"payment_method\": \"credit_card\"\n}"
            },
            "url": {
              "raw": "{{base_url_payment}}/payments",
              "host": ["{{base_url_payment}}"],
              "path": ["payments"]
            }
          },
          "response": []
        },
        {
          "name": "4. Login as Restaurant",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url_auth}}/login?email=restaurant@example.com&password=password123",
              "host": ["{{base_url_auth}}"],
              "path": ["login"],
              "query": [
                {
                  "key": "email",
                  "value": "restaurant@example.com"
                },
                {
                  "key": "password",
                  "value": "password123"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "5. Accept Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_restaurant}}/orders/1/accept",
              "host": ["{{base_url_restaurant}}"],
              "path": ["orders", "1", "accept"]
            }
          },
          "response": []
        },
        {
          "name": "6. Start Preparing Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_restaurant}}/orders/1/start-preparing",
              "host": ["{{base_url_restaurant}}"],
              "path": ["orders", "1", "start-preparing"]
            }
          },
          "response": []
        },
        {
          "name": "7. Mark Order Ready",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{restaurant_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_restaurant}}/orders/1/ready",
              "host": ["{{base_url_restaurant}}"],
              "path": ["orders", "1", "ready"]
            }
          },
          "response": []
        },
        {
          "name": "8. Login as Admin",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url_auth}}/login?email=admin@test.com&password=admin123",
              "host": ["{{base_url_auth}}"],
              "path": ["login"],
              "query": [
                {
                  "key": "email",
                  "value": "admin@test.com"
                },
                {
                  "key": "password",
                  "value": "admin123"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "9. Assign Driver",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"order_id\": 1,\n  \"driver_id\": 1\n}"
            },
            "url": {
              "raw": "{{base_url_dispatch}}/assignments",
              "host": ["{{base_url_dispatch}}"],
              "path": ["assignments"]
            }
          },
          "response": []
        },
        {
          "name": "10. Get Reports",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url_reporting}}/reports/active-counts",
              "host": ["{{base_url_reporting}}"],
              "path": ["reports", "active-counts"]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-extract tokens from login responses",
          "if (pm.response && pm.response.json && pm.response.json().access_token) {",
          "    const token = pm.response.json().access_token;",
          "    const userRole = pm.response.json().role || 'CUSTOMER';",
          "    ",
          "    // Set appropriate token variable based on role",
          "    if (userRole === 'ADMIN') {",
          "        pm.collectionVariables.set('admin_token', token);",
          "    } else if (userRole === 'RESTAURANT') {",
          "        pm.collectionVariables.set('restaurant_token', token);",
          "    } else if (userRole === 'CUSTOMER') {",
          "        pm.collectionVariables.set('customer_token', token);",
          "    }",
          "    ",
          "    // Also set the general access_token",
          "    pm.collectionVariables.set('access_token', token);",
          "    ",
          "    console.log('Token extracted and set for role:', userRole);",
          "}"
        ]
      }
    }
  ]
}
